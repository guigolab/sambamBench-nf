// Enable trace file
trace.enabled = true

// Enable HTML report
report.enabled = true

// Deafault paramters
params {
    bam = 'data/ENCFF044SJL.bam'
    baseUrl = 'https://www.encodeproject.org/files/ENCFF044SJL/@@download'
    samtoolsVers = '1.3,1.7'
    sambambaVers = '0.6.6,0.6.8-pre1'
}

// Process directives
process {
    errorStrategy = 'ignore'
    container = { "grape/${task.process}:${ver}" }
    tag = { "${command}-${task.process}-${ver}-${bam.baseName}" }
    publishDir = { [ path: "out/${bam.baseName}", saveAs: { "${task.process}-${command}-${ver}" } ] } 
}

// Profiles
profiles {
    standard {
        docker.enabled = true
        process.executor = 'local'
        process.cpus = '2'
        process.memory = 8.GB
    }

    workstation {
        docker.enabled = true
        process.executor = 'local'
        process.cpus = '8'
        process.memory = 40.GB
        report.file = "${HOME}/public_docs/report.html"
    }
}